# Proof of KRNL-Consistency (Fixed Point Characterization)

:::{prf:proof}
:label: proof-mt-krnl-consistency

**Theorem Reference:** {prf:ref}`mt-krnl-consistency`

## Setup and Notation

Let $\mathcal{S} = (\mathcal{X}, \nabla, \Phi_\bullet, \tau, \partial_\bullet)$ be a structural flow datum (in the sense of {prf:ref}`def-categorical-hypostructure`) satisfying the following:

**Assumption (Strict Dissipation):** For all $x \in \mathcal{X}$ and $t > 0$,
$$\Phi(S_t x) < \Phi(x) \quad \text{unless } x \in \text{Fix}(S).$$

We denote:
- $S_t: \mathcal{X} \to \mathcal{X}$ the semiflow generated by the flat connection $\nabla$ via $S_t = \exp(t \cdot \nabla)$
- $\Phi: \mathcal{X} \to \mathbb{R}_{\geq 0} \cup \{\infty\}$ the cohomological height functional (energy)
- $\mathfrak{D}: \mathcal{X} \to \mathbb{R}_{\geq 0}$ the dissipation density, defined by
  $$\mathfrak{D}(x) := -\frac{d}{dt}\Big|_{t=0^+} \Phi(S_t x)$$
- $\mathcal{E}_{\text{fin}} := \{x \in \mathcal{X} : \Phi(x) < \infty\}$ the space of finite-energy states
- $\text{Fix}(S) := \{x \in \mathcal{X} : S_t x = x \text{ for all } t > 0\}$ the set of fixed points

A trajectory $u: [0, T) \to \mathcal{X}$ is called:
- **Finite-energy** if $\sup_{t \in [0,T)} \Phi(u(t)) < \infty$
- **Self-consistent** (Definition {prf:ref}`def-self-consistency`) if:
  1. Temporal coherence: $S_t: \mathcal{X} \to \mathcal{X}$ preserves the structural constraints defining $\mathcal{X}$
  2. Asymptotic stability: Either $T = \infty$, or $\lim_{t \nearrow T} u(t)$ exists in $\mathcal{X}$

We will prove the equivalence:
$$(1) \iff (2) \iff (3)$$
where:
1. $\mathcal{S}$ satisfies the hypostructure axioms on all finite-energy trajectories
2. Every finite-energy trajectory is asymptotically self-consistent
3. The only persistent states are fixed points: $\text{Persist}(\mathcal{S}) \subseteq \text{Fix}(S)$

---

## Step 1: Implication (1) ⇒ (2)

**Goal:** Show that if $\mathcal{S}$ satisfies the hypostructure axioms, then every finite-energy trajectory converges to a limit point.

### Step 1.1: Energy Monotonicity

By the Dissipation Axiom (Axiom D, {prf:ref}`ax-dissipation`), for any trajectory $u(t) = S_t x$ with $x \in \mathcal{E}_{\text{fin}}$, the energy-dissipation inequality holds:
$$\Phi(S_t x) + \int_0^t \mathfrak{D}(S_s x) \, ds \leq \Phi(x) \quad \text{for all } t \geq 0.$$

Since $\Phi(x) < \infty$, this implies:
1. **Energy boundedness:** $\sup_{t \geq 0} \Phi(S_t x) \leq \Phi(x) < \infty$
2. **Dissipation integrability:** $\int_0^\infty \mathfrak{D}(S_s x) \, ds \leq \Phi(x) < \infty$

### Step 1.2: Precompactness of the Orbit

The trajectory $\{S_t x : t \geq 0\}$ is bounded in energy. By the Compactness Axiom ({prf:ref}`ax-compactness`), the sublevel set
$$\{\xi \in \mathcal{X} : \Phi(\xi) \leq \Phi(x)\}$$
is precompact in the weak topology of $\mathcal{X}$.

**Consequence:** There exists a sequence $t_n \to \infty$ and a point $x^* \in \mathcal{X}$ such that
$$S_{t_n} x \rightharpoonup x^* \quad \text{(weakly in } \mathcal{X}\text{)}.$$

### Step 1.3: The Limit Point is a Fixed Point

**Claim:** $x^* \in \text{Fix}(S)$, i.e., $S_t x^* = x^*$ for all $t > 0$.

**Proof of Claim:**

By the semiflow property (consequence of flatness $[\nabla, \nabla] = 0$), for any $s, t \geq 0$:
$$S_{t+s} x = S_t(S_s x).$$

Fix $s > 0$ arbitrary. For the subsequence $t_n \to \infty$, we have:
$$S_{t_n + s} x = S_s(S_{t_n} x).$$

Taking $n \to \infty$ and using:
- Left side: $S_{t_n + s} x \rightharpoonup x^*$ (since $t_n + s \to \infty$)
- Right side: By continuity of $S_s$ in the weak topology (guaranteed by the flatness condition and regularity of $\nabla$), we have
  $$S_s(S_{t_n} x) \rightharpoonup S_s(x^*).$$

By uniqueness of weak limits:
$$x^* = S_s(x^*) \quad \text{for all } s > 0.$$

Thus $x^* \in \text{Fix}(S)$.

### Step 1.4: Energy Stationarity at the Limit

Since $\mathfrak{D}$ is non-negative and $\int_0^\infty \mathfrak{D}(S_s x) \, ds < \infty$, by Barbalat's Lemma (see {cite}`LaSalle76`):
$$\lim_{t \to \infty} \mathfrak{D}(S_t x) = 0.$$

Combined with the strict dissipation hypothesis:
$$\mathfrak{D}(y) = 0 \iff y \in \text{Fix}(S),$$
this confirms that the trajectory must approach the fixed point set asymptotically.

### Step 1.5: Strong Convergence via Łojasiewicz Inequality

For gradient-like flows with analytic energy functionals (a common setting for hypostructures), the **Łojasiewicz gradient inequality** (see {cite}`Lojasiewicz84`) provides:

There exist constants $\theta \in (0, 1/2]$ and $C > 0$ such that for all $x$ in a neighborhood of $x^*$:
$$|\Phi(x) - \Phi(x^*)|^{1-\theta} \leq C \cdot \mathfrak{D}(x).$$

This inequality, combined with the energy-dissipation identity, upgrades weak convergence to **strong convergence**:
$$\lim_{t \to \infty} \|S_t x - x^*\|_{\mathcal{X}} = 0.$$

**Conclusion of Step 1:** Every finite-energy trajectory converges strongly to a fixed point $x^* \in \text{Fix}(S)$, establishing asymptotic self-consistency.

---

## Step 2: Implication (2) ⇒ (3)

**Goal:** Show that self-consistency of all finite-energy trajectories implies that persistent states are exactly fixed points.

### Step 2.1: Definition of Persistent States

A state $x \in \mathcal{X}$ is **persistent** if the trajectory $u(t) = S_t x$ exists for all $t \geq 0$ (i.e., $T_{\max}(x) = \infty$) and does not escape to infinity.

Formally:
$$x \in \text{Persist}(\mathcal{S}) \iff \begin{cases}
S_t x \text{ is defined for all } t \geq 0 \\
\limsup_{t \to \infty} \Phi(S_t x) < \infty
\end{cases}$$

### Step 2.2: Self-Consistency Implies Convergence

By hypothesis (2), every finite-energy trajectory is asymptotically self-consistent. For a persistent state $x$:
$$\sup_{t \geq 0} \Phi(S_t x) < \infty \quad \Rightarrow \quad \lim_{t \to \infty} S_t x = x^* \text{ exists}.$$

### Step 2.3: The Limit is a Fixed Point

Taking $t \to \infty$ in the semiflow identity:
$$S_{t+s} x = S_s(S_t x),$$
we obtain (using continuity of $S_s$):
$$\lim_{t \to \infty} S_{t+s} x = \lim_{t \to \infty} S_s(S_t x) = S_s\left(\lim_{t \to \infty} S_t x\right) = S_s(x^*).$$

But also:
$$\lim_{t \to \infty} S_{t+s} x = \lim_{u \to \infty} S_u x = x^*$$
(by substitution $u = t + s$ and noting that $t \to \infty \iff u \to \infty$).

Therefore:
$$S_s(x^*) = x^* \quad \text{for all } s > 0.$$

Hence $x^* \in \text{Fix}(S)$.

### Step 2.4: Persistent States Approach Fixed Points

Since every persistent trajectory converges to a fixed point, and a state $x$ is persistent if and only if it remains in a bounded energy region forever, we conclude:

**For the state itself to persist indefinitely without change**, it must already be a fixed point. Otherwise, the strict dissipation would drive it toward the nearest fixed point, contradicting persistence.

Formally: If $x \in \text{Persist}(\mathcal{S})$ and $x \notin \text{Fix}(S)$, then strict dissipation gives:
$$\Phi(S_t x) < \Phi(x) \text{ for all } t > 0,$$
which implies $\lim_{t \to \infty} \Phi(S_t x) = \Phi(x^*) < \Phi(x)$.

Thus, $x$ itself does not persist—only its limit $x^*$ persists. Therefore:
$$\text{Persist}(\mathcal{S}) \subseteq \text{Fix}(S).$$

The reverse inclusion is immediate: every fixed point is trivially persistent.

**Conclusion of Step 2:** Persistent states are exactly the fixed points.

---

## Step 3: Implication (3) ⇒ (1)

**Goal:** Show that if only fixed points persist, then the hypostructure axioms must hold on all finite-energy trajectories.

### Step 3.1: Dichotomy for Trajectories

Assume (3): The only persistent states are fixed points. Consider an arbitrary trajectory $u(t) = S_t x$ with $x \in \mathcal{E}_{\text{fin}}$.

**Claim:** Exactly one of the following holds:
- **(Case A)** The trajectory reaches a fixed point in finite or infinite time: $\exists t_0 \geq 0$ such that $S_{t_0} x \in \text{Fix}(S)$, or $\lim_{t \to \infty} S_t x = x^*$ for some $x^* \in \text{Fix}(S)$.
- **(Case B)** The trajectory exits the domain in finite time: $T_{\max}(x) < \infty$ and $\lim_{t \nearrow T_{\max}} \Phi(S_t x) = \infty$.

**Proof of Dichotomy:**

Suppose neither case holds. Then:
- The trajectory is defined for all $t \geq 0$ (negation of Case B)
- The trajectory never reaches or approaches a fixed point (negation of Case A)

This means $x \in \text{Persist}(\mathcal{S})$ but $x \notin \text{Fix}(S)$, contradicting hypothesis (3).

### Step 3.2: Exclusion of Case B via Energy Bounds

**Claim:** Case B is impossible under the finite-energy hypothesis.

**Proof:**

Suppose $T_{\max}(x) < \infty$ and $\lim_{t \nearrow T_{\max}} \Phi(S_t x) = \infty$.

By the energy-dissipation inequality (which holds for any trajectory, even those that blow up):
$$\Phi(S_t x) \leq \Phi(x) - \int_0^t \mathfrak{D}(S_s x) \, ds \leq \Phi(x) < \infty$$
for all $t < T_{\max}$.

This contradicts $\lim_{t \nearrow T_{\max}} \Phi(S_t x) = \infty$.

**Alternate Argument (Contradiction with Compactness):**

If $\sup_{t < T_{\max}} \Phi(S_t x) < \infty$, then by the Compactness Axiom, the orbit $\{S_t x : 0 \leq t < T_{\max}\}$ is precompact. Hence there exists a convergent subsequence $t_n \nearrow T_{\max}$ with
$$S_{t_n} x \to \bar{x} \in \mathcal{X}.$$

By continuity of the flow (for $t < T_{\max}$), we can extend $S_t x$ beyond $T_{\max}$, contradicting the definition of maximal existence time. Therefore, Case B cannot occur for finite-energy initial data.

### Step 3.3: Case A Implies Axiom Satisfaction

If every finite-energy trajectory either reaches a fixed point or converges to one asymptotically, then:

1. **Axiom D (Dissipation)** holds by construction: The energy-dissipation inequality was assumed in deriving the dichotomy.

2. **Axiom C (Compactness)** holds: Sublevel sets $\{\Phi \leq E\}$ must be compact, otherwise we could construct a finite-energy trajectory that neither reaches a fixed point nor exits, violating the dichotomy.

3. **Axiom SC (Scale Criticality)** holds: If scale-critical concentration could occur without reaching a fixed point, we would have a persistent non-fixed-point state (the concentrating profile), contradicting (3).

4. **Axiom LS (Linear Stability)** holds: Fixed points are necessarily stable under the linearized flow. If an unstable mode existed with finite energy, perturbations along this mode would create persistent non-fixed-point states.

5. **Other Axioms** (Capacity $\mathrm{Cap}_H$, Topological Barrier $\mathrm{TB}_\pi$, Gradient Control $\mathrm{GC}_\nabla$, Recovery $\mathrm{Rec}_N$): These axioms prevent pathological behaviors (Zeno-type singularities, topological obstructions, high-frequency oscillations, infinite discrete events) that would create persistent states distinct from fixed points. The assumption that only fixed points persist forces these axioms to hold.

### Step 3.4: Certificate Construction

The proof is constructive: Given a finite-energy trajectory $u(t) = S_t x$:

**Energy Certificate** $K_{D_E}^+$:
$$K_{D_E}^+ = \left(\Phi(x), \text{proof that } \sup_{t \geq 0} \Phi(S_t x) \leq \Phi(x)\right)$$

**Compactness Certificate** $K_{C_\mu}^+$ or $K_{C_\mu}^-$:
- If the trajectory concentrates, extract the concentration profile $V$ (this must be a fixed point or converge to one)
- Otherwise, certify dispersion via the Concentration/Dispersion dichotomy (Theorem {prf:ref}`mt-krnl-trichotomy`)

**Fixed-Point Certificate** $K_{\text{Fix}}$:
$$K_{\text{Fix}} = \left(x^*, \text{proof that } S_t x^* = x^* \text{ and } \lim_{t \to \infty} S_t x = x^*\right)$$

**Conclusion of Step 3:** If only fixed points persist, then the hypostructure axioms must hold, as violations of any axiom would create persistent non-fixed-point states.

---

## Step 4: Synthesis and Conclusion

We have established:
- **(1) ⇒ (2):** Axiom satisfaction implies asymptotic self-consistency via energy monotonicity, precompactness, and the Łojasiewicz inequality.
- **(2) ⇒ (3):** Self-consistency implies that persistent states are exactly fixed points via the semiflow identity.
- **(3) ⇒ (1):** The fixed-point-only persistence condition forces all axioms to hold by excluding pathological behaviors.

Therefore:
$$(1) \iff (2) \iff (3),$$
completing the proof of the KRNL-Consistency Theorem.

---

## Quantitative Refinements

### Convergence Rate

When the Łojasiewicz gradient inequality holds with exponent $\theta \in (0, 1/2)$, the convergence rate to the fixed point $x^*$ is:
$$\|S_t x - x^*\|_{\mathcal{X}} \leq C \cdot t^{-\frac{1}{1 - 2\theta}} \quad \text{for } t \gg 1.$$

For $\theta = 1/2$ (analytic case), the convergence is exponential:
$$\|S_t x - x^*\|_{\mathcal{X}} \leq C \cdot e^{-\lambda t}$$
for some $\lambda > 0$ depending on the spectral gap of the linearization at $x^*$.

### Energy Dissipation Bound

The total dissipated energy is bounded by the initial energy:
$$\int_0^\infty \mathfrak{D}(S_t x) \, dt \leq \Phi(x) - \Phi(x^*).$$

If $x^*$ is a global minimizer of $\Phi$ with $\Phi(x^*) = 0$, this becomes:
$$\int_0^\infty \mathfrak{D}(S_t x) \, dt \leq \Phi(x).$$

### Linearization and Spectral Gap

At a fixed point $x^* \in \text{Fix}(S)$, the linearized operator
$$L := \nabla|_{x^*}: T_{x^*}\mathcal{X} \to T_{x^*}\mathcal{X}$$
must satisfy:
$$\text{Spec}(L) \subseteq \{\lambda \in \mathbb{C} : \text{Re}(\lambda) \leq 0\}.$$

For strict dissipation, if $x^*$ is non-degenerate:
$$\text{Spec}(L) \subseteq \{\lambda : \text{Re}(\lambda) < 0\} \setminus \{0\}^{\text{finite}},$$
where the kernel $\ker(L)$ is finite-dimensional (capturing moduli of fixed points under symmetries).

---

## Extension: Non-Strict Dissipation

For systems with **non-strict dissipation** (where $\Phi(S_t x) \leq \Phi(x)$ but strict inequality may fail on non-trivial sets), statement (3) generalizes:

**Modified Statement (3'):** Persistent states are contained in the **maximal invariant set** (global attractor) $\mathcal{A}$:
$$\text{Persist}(\mathcal{S}) \subseteq \mathcal{A} := \bigcap_{t \geq 0} \overline{\bigcup_{s \geq t} S_s(\mathcal{E}_{\text{fin}})}.$$

The set $\mathcal{A}$ may include:
- Fixed points: $S_t x = x$
- Periodic orbits: $S_T x = x$ for some $T > 0$
- Homoclinic/heteroclinic connections
- More complex recurrent dynamics (Conley-Morse decomposition, see {cite}`Conley78`)

**Applicability of LaSalle's Invariance Principle:**

The **LaSalle Invariance Principle** ({cite}`LaSalle76`) ensures that:
$$\lim_{t \to \infty} \text{dist}(S_t x, \mathcal{M}) = 0,$$
where $\mathcal{M} \subseteq \mathcal{A}$ is the largest invariant set contained in
$$\{y \in \mathcal{X} : \mathfrak{D}(y) = 0\}.$$

**Example (Morse-Smale Systems):** For Morse-Smale gradient flows (Backend B in {prf:ref}`def-permit-morsedecomp`):
- $\mathcal{A}$ consists of finitely many hyperbolic fixed points and connecting orbits
- Generic trajectories converge to fixed points exponentially
- Non-generic trajectories lie on stable manifolds of saddle points

**Example (Hamiltonian Systems with Friction):** For conservative systems with weak dissipation:
- $\mathcal{A}$ may contain periodic orbits or invariant tori
- The LaSalle principle identifies these as level sets of conserved quantities restricted to $\{\mathfrak{D} = 0\}$

---

## Literature and Context

**Banach Fixed Point Theorem ({cite}`Banach22`):**
The classical Banach contraction principle guarantees unique fixed points for strict contractions. While our setting is not a contraction mapping (the semiflow is not globally contractive), the energy-dissipation structure provides an analogous "eventual contraction" near fixed points, justifying the convergence analysis.

**Lyapunov Stability Theory ({cite}`Lyapunov92`):**
The energy functional $\Phi$ serves as a Lyapunov function. Lyapunov's direct method establishes stability of fixed points by showing $\Phi$ is non-increasing along trajectories. Our theorem extends this by showing that *global* asymptotic stability (all finite-energy trajectories converge) is equivalent to the hypostructure axiom structure.

**LaSalle's Invariance Principle ({cite}`LaSalle76`):**
This principle provides the key tool for analyzing limit sets in systems with weak dissipation. It guarantees convergence to the maximal invariant set where dissipation vanishes, generalizing our result beyond gradient flows to broader dynamical systems.

**Łojasiewicz Gradient Inequality ({cite}`Lojasiewicz84`):**
For analytic or semi-algebraic energy functionals, this inequality provides convergence rates and ensures finite-time arrival at fixed points (when $\theta < 1/2$) or exponential convergence (when $\theta = 1/2$). This quantitative refinement is essential for algorithmic applications of the hypostructure framework.

**Applicability to Hypostructures:**
The Fixed-Point Principle is the cornerstone of the hypostructure methodology. It shows that:
1. **Axioms are not arbitrary:** They are necessary and sufficient conditions for self-consistent evolution
2. **Singularities are fixed-point failures:** States where $F(x) \neq x$ cannot persist and represent breakdown points
3. **Resolution strategies target fixed-point restoration:** Surgeries and truncations modify the space $\mathcal{X}$ to restore the fixed-point property

This theorem underpins the Lock mechanism (Theorem {prf:ref}`mt-krnl-exclusion`) and the entire Sieve architecture.

:::
